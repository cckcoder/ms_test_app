pipeline {
  agent any

  stages {
    stage('Verify Branch') {
      steps {
        sh '$GIT_BRANCH'
      }
    }
    stage('Docker Build') {
      steps {
        sh(script: 'docker image ls')
        sh(script: """
          docker build -t cckcoder/fastapi:latest .
          docker images -a
        """)
      }
    }
  }
}
